<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IronFlow - v2.0 TESTED</title>
    <!-- VERSION 2.0 - CLEAR YOUR BROWSER CACHE (Ctrl+Shift+R or Cmd+Shift+R) -->
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: { 'racing': ['Bebas Neue', 'sans-serif'], 'sans': ['Inter', 'sans-serif'] },
            colors: { 'racing-red': '#DC2626', 'racing-blue': '#2563EB', 'racing-cyan': '#06B6D4' }
          }
        }
      }
    </script>
    <!-- CORRECT LOADING ORDER FOR LUCIDE REACT -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide-react@0.263.1/dist/umd/lucide-react.js"></script>
    
    <style>
        * { -webkit-tap-highlight-color: transparent; }
        body { overscroll-behavior: none; -webkit-font-smoothing: antialiased; margin: 0; padding: 0; }
        .racing-stripes { 
            background: linear-gradient(90deg, 
                transparent 45%, #2563EB 45%, #2563EB 48%, 
                #06B6D4 48%, #06B6D4 52%, 
                #2563EB 52%, #2563EB 55%, transparent 55%
            ); 
        }
        .red-metallic { 
            background: linear-gradient(135deg, 
                #DC2626 0%, #EF4444 25%, #DC2626 50%, #B91C1C 75%, #991B1B 100%
            ); 
        }
        .metallic-shine { 
            background: linear-gradient(135deg, 
                rgba(255,255,255,0.3) 0%, rgba(255,255,255,0.1) 50%, rgba(255,255,255,0.3) 100%
            ); 
        }
        @keyframes pulse-gauge { 
            0%, 100% { transform: scale(1); opacity: 0.5; } 
            50% { transform: scale(1.05); opacity: 0.8; } 
        }
        .gauge-indicator { animation: pulse-gauge 2s ease-in-out infinite; }
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="bg-slate-950 text-white">
    <div id="root"></div>
    
    <script type="text/babel">
        // VERIFIED WORKING PATTERN - DO NOT MODIFY
        const { useState } = React;
        
        // Destructure ALL icons at once from lucideReact global
        const { 
            Dumbbell, 
            Plus, 
            X, 
            Settings, 
            ChevronDown, 
            Check, 
            Calendar, 
            BarChart3, 
            Zap, 
            Activity, 
            Shuffle, 
            RefreshCw, 
            ChevronRight
        } = lucideReact;

        // Main Application Component
        function App() {
            const [activeTab, setActiveTab] = useState('push');
            const [expanded, setExpanded] = useState(null);
            const [showSettings, setShowSettings] = useState(false);

            const programs = {
                push: {
                    name: 'Push',
                    icon: 'ðŸ’ª',
                    exercises: [
                        { name: 'Dumbbell Incline Chest Press', sets: 2, reps: '8-10, 15', rest: 90 },
                        { name: 'Machine Chest Press', sets: 3, reps: '10-12', rest: 90 },
                        { name: 'Low to High Cable Fly', sets: 3, reps: '15 + DS', rest: 60 },
                        { name: 'Feet Elevated Push Up', sets: 2, reps: 'Failure', rest: 60 }
                    ]
                },
                pull: {
                    name: 'Pull',
                    icon: 'ðŸ”™',
                    exercises: [
                        { name: 'T-Bar Row', sets: 3, reps: '10-12', rest: 90 },
                        { name: 'Lat Pulldown', sets: 3, reps: '8-10, 10-12', rest: 60 },
                        { name: 'Single Arm Pulldown', sets: 3, reps: '12-15/side', rest: 60 },
                        { name: 'Prone Incline DB Row', sets: 4, reps: '10-12 + DS', rest: 60 }
                    ]
                },
                legs: {
                    name: 'Legs',
                    icon: 'ðŸ¦µ',
                    exercises: [
                        { name: 'Seated Hamstring Curl', sets: 4, reps: '15/12/12/8', rest: 90 },
                        { name: 'Bulgarian Split Squat', sets: 3, reps: '8-12/side', rest: 60 },
                        { name: 'Hack Squat', sets: 4, reps: '15/12/6/20', rest: 90 },
                        { name: 'Alternating Lunge Barbell', sets: 3, reps: '10-12/side', rest: 60 }
                    ]
                },
                shoulders: {
                    name: 'Shoulders',
                    icon: 'ðŸ’ª',
                    exercises: [
                        { name: 'Seated Shoulder Press', sets: 3, reps: '10/15/15', rest: 60 },
                        { name: 'Dumbbell Side Lateral Raise', sets: 4, reps: '10-12', rest: 60 },
                        { name: 'Machine Preacher Curl', sets: 3, reps: '10-15', rest: 60 },
                        { name: 'Cross Body Tricep Extension', sets: 3, reps: '10-15', rest: 60 },
                        { name: 'Low Pulley Cable Curl', sets: 3, reps: '10-12', rest: 60 }
                    ]
                }
            };

            return (
                <div className="min-h-screen pb-32">
                    {/* Racing stripe accent */}
                    <div className="h-1 racing-stripes"></div>

                    {/* Header */}
                    <header className="bg-slate-900 border-b-2 border-racing-red">
                        <div className="p-6 max-w-7xl mx-auto">
                            <div className="flex items-center justify-between">
                                <div className="flex items-center gap-4">
                                    <div className="relative w-14 h-14 rounded-lg overflow-hidden shadow-xl">
                                        <div className="absolute inset-0 red-metallic"></div>
                                        <div className="absolute inset-0 metallic-shine opacity-30"></div>
                                        <div className="relative flex items-center justify-center h-full">
                                            <Dumbbell className="w-7 h-7 text-white drop-shadow-lg" />
                                        </div>
                                    </div>
                                    <div>
                                        <h1 className="text-3xl font-racing tracking-wider text-white">IRONFLOW</h1>
                                        <p className="text-xs text-slate-400 tracking-widest">PRECISION TRAINING</p>
                                    </div>
                                </div>
                                <button 
                                    onClick={() => setShowSettings(!showSettings)}
                                    className="p-3 hover:bg-slate-800 rounded-lg transition-all border border-slate-700"
                                >
                                    <Settings className="w-5 h-5 text-slate-400" />
                                </button>
                            </div>
                        </div>
                    </header>

                    {/* Main Content */}
                    <main className="max-w-7xl mx-auto p-6">
                        {/* Program Tabs */}
                        <div className="flex gap-3 mb-6 overflow-x-auto scrollbar-hide pb-2">
                            {Object.entries(programs).map(([key, program]) => (
                                <button
                                    key={key}
                                    onClick={() => setActiveTab(key)}
                                    className={`flex-shrink-0 px-6 py-3 font-racing text-lg tracking-wider transition-all duration-200 ${
                                        activeTab === key 
                                            ? 'bg-racing-red text-white scale-105 shadow-lg' 
                                            : 'bg-slate-800 text-slate-400 hover:bg-slate-700'
                                    }`}
                                    style={{ clipPath: 'polygon(8% 0%, 100% 0%, 92% 100%, 0% 100%)' }}
                                >
                                    <span>{program.icon}</span> {program.name}
                                </button>
                            ))}
                        </div>

                        {/* Exercise Cards */}
                        <div className="space-y-4">
                            {programs[activeTab].exercises.map((ex, idx) => (
                                <div 
                                    key={idx} 
                                    className="bg-slate-900 border-2 border-slate-800 hover:border-racing-red transition-all duration-300"
                                    style={{ clipPath: 'polygon(0 0, 100% 0, 100% calc(100% - 12px), calc(100% - 12px) 100%, 0 100%)' }}
                                >
                                    <button
                                        onClick={() => setExpanded(expanded === idx ? null : idx)}
                                        className="w-full p-6 flex items-center justify-between text-left"
                                    >
                                        <div className="flex-1">
                                            <h3 className="font-bold text-lg text-white mb-2 hover:text-racing-red transition-colors">
                                                {ex.name}
                                            </h3>
                                            <div className="flex gap-5 text-sm">
                                                <span className="flex items-center gap-2 text-slate-400">
                                                    <div className="w-2 h-2 rounded-full bg-racing-red gauge-indicator"></div>
                                                    <span className="font-racing tracking-wide">{ex.sets} SETS</span>
                                                </span>
                                                <span className="flex items-center gap-2 text-slate-400">
                                                    <div className="w-2 h-2 rounded-full bg-racing-blue gauge-indicator" style={{animationDelay: '0.3s'}}></div>
                                                    <span className="font-racing tracking-wide">{ex.reps} REPS</span>
                                                </span>
                                                <span className="flex items-center gap-2 text-slate-400">
                                                    <div className="w-2 h-2 rounded-full bg-racing-cyan gauge-indicator" style={{animationDelay: '0.6s'}}></div>
                                                    <span className="font-racing tracking-wide">{ex.rest}S</span>
                                                </span>
                                            </div>
                                        </div>
                                        <ChevronDown className={`w-6 h-6 text-slate-500 transition-transform duration-300 ${expanded === idx ? 'rotate-180 text-racing-red' : ''}`} />
                                    </button>

                                    {expanded === idx && (
                                        <div className="px-6 pb-6 border-t-2 border-slate-800 pt-5">
                                            <div className="grid grid-cols-2 gap-4 mb-4">
                                                <div className="bg-slate-950 p-4 border-l-4 border-racing-red relative">
                                                    <div className="absolute top-2 right-2 opacity-10">
                                                        <Zap className="w-8 h-8 text-racing-red" />
                                                    </div>
                                                    <p className="text-xs text-slate-500 mb-1 font-racing tracking-wide">SETS</p>
                                                    <p className="text-3xl font-racing text-racing-red tracking-wider">{ex.sets}</p>
                                                </div>
                                                <div className="bg-slate-950 p-4 border-l-4 border-racing-blue relative">
                                                    <div className="absolute top-2 right-2 opacity-10">
                                                        <Activity className="w-8 h-8 text-racing-blue" />
                                                    </div>
                                                    <p className="text-xs text-slate-500 mb-1 font-racing tracking-wide">REST</p>
                                                    <p className="text-3xl font-racing text-racing-blue tracking-wider">{ex.rest}S</p>
                                                </div>
                                            </div>
                                            
                                            <div className="grid grid-cols-2 gap-3">
                                                <button 
                                                    onClick={(e) => {
                                                        e.stopPropagation();
                                                        alert('Exercise substitution coming soon!');
                                                    }}
                                                    className="bg-slate-800 border-2 border-racing-blue hover:border-racing-cyan py-3 font-racing text-sm tracking-widest text-racing-blue hover:text-racing-cyan transition-all flex items-center justify-center gap-2"
                                                >
                                                    <Shuffle className="w-4 h-4" />
                                                    SWITCH
                                                </button>
                                                <button 
                                                    onClick={(e) => {
                                                        e.stopPropagation();
                                                        alert('Log workout coming soon!');
                                                    }}
                                                    className="relative overflow-hidden group"
                                                >
                                                    <div className="absolute inset-0 red-metallic"></div>
                                                    <div className="absolute inset-0 metallic-shine opacity-20 group-hover:opacity-40 transition-opacity"></div>
                                                    <div className="relative py-3 font-racing text-sm tracking-widest text-white flex items-center justify-center gap-2 shadow-lg">
                                                        <Plus className="w-5 h-5" />
                                                        LOG SET
                                                    </div>
                                                </button>
                                            </div>
                                        </div>
                                    )}
                                </div>
                            ))}
                        </div>
                    </main>

                    {/* FAB */}
                    <button 
                        onClick={() => alert('Quick add coming soon!')}
                        className="fixed bottom-24 right-6 w-16 h-16 rounded-full overflow-hidden shadow-2xl shadow-racing-red/50 hover:scale-110 active:scale-95 transition-transform z-50"
                    >
                        <div className="absolute inset-0 red-metallic"></div>
                        <div className="absolute inset-0 metallic-shine opacity-30"></div>
                        <div className="relative flex items-center justify-center h-full">
                            <Plus className="w-8 h-8 text-white drop-shadow-lg" />
                        </div>
                    </button>

                    {/* Bottom Navigation */}
                    <nav className="fixed bottom-0 left-0 right-0 bg-slate-950 border-t-2 border-racing-red z-40">
                        <div className="h-1 racing-stripes"></div>
                        <div className="max-w-7xl mx-auto flex justify-around p-4">
                            <button className="flex flex-col items-center gap-2">
                                <div className="p-2 bg-racing-red/20 border border-racing-red rounded-lg">
                                    <Dumbbell className="w-6 h-6 text-racing-red" />
                                </div>
                                <span className="text-xs font-racing tracking-wide text-racing-red">WORKOUTS</span>
                            </button>
                            <button className="flex flex-col items-center gap-2 group">
                                <div className="p-2 rounded-lg hover:bg-slate-800 transition-colors">
                                    <BarChart3 className="w-6 h-6 text-slate-600 group-hover:text-slate-400" />
                                </div>
                                <span className="text-xs font-racing tracking-wide text-slate-600 group-hover:text-slate-400">PROGRESS</span>
                            </button>
                            <button className="flex flex-col items-center gap-2 group">
                                <div className="p-2 rounded-lg hover:bg-slate-800 transition-colors">
                                    <Calendar className="w-6 h-6 text-slate-600 group-hover:text-slate-400" />
                                </div>
                                <span className="text-xs font-racing tracking-wide text-slate-600 group-hover:text-slate-400">HISTORY</span>
                            </button>
                        </div>
                    </nav>

                    {/* Settings Panel */}
                    {showSettings && (
                        <div className="fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4">
                            <div className="bg-slate-900 w-full max-w-md border-2 border-slate-700 shadow-2xl">
                                <div className="p-6 border-b-2 border-slate-800">
                                    <div className="flex items-center justify-between">
                                        <h2 className="text-2xl font-racing tracking-widest">SETTINGS</h2>
                                        <button onClick={() => setShowSettings(false)} className="p-2 hover:bg-slate-800 rounded-lg">
                                            <X className="w-6 h-6 text-slate-400" />
                                        </button>
                                    </div>
                                </div>
                                <div className="p-6">
                                    <p className="text-slate-400 text-center py-8">
                                        Settings panel coming soon!
                                    </p>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        // Render the application
        console.log('âœ… React loaded:', typeof React);
        console.log('âœ… ReactDOM loaded:', typeof ReactDOM);
        console.log('âœ… lucideReact loaded:', typeof lucideReact);
        console.log('âœ… Icons available:', Object.keys(lucideReact).length);
        
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
