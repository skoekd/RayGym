<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#DC2626">
    <meta name="description" content="Premium workout tracking with intelligent exercise substitution">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>IronFlow - Premium Workout Tracker</title>
    
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%23DC2626'/><text y='.9em' x='50%' text-anchor='middle' font-size='60'>ðŸ’ª</text></svg>">
    <link rel="manifest" href="manifest.json">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              'racing': ['Bebas Neue', 'sans-serif'],
              'sans': ['Inter', 'sans-serif'],
            },
            colors: {
              'racing-red': '#DC2626',
              'racing-blue': '#2563EB',
              'racing-cyan': '#06B6D4',
            }
          }
        }
      }
    </script>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide-react@0.263.1/dist/umd/lucide-react.js"></script>
    
    <style>
        * { -webkit-tap-highlight-color: transparent; }
        body { overscroll-behavior: none; touch-action: pan-x pan-y; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
        html, body { overflow-x: hidden; height: 100%; }
        @supports (padding: max(0px)) {
            body { padding-top: max(0px, env(safe-area-inset-top)); padding-bottom: max(0px, env(safe-area-inset-bottom)); }
        }
        .racing-stripes { background: linear-gradient(90deg, transparent 0%, transparent 45%, #2563EB 45%, #2563EB 48%, #06B6D4 48%, #06B6D4 52%, #2563EB 52%, #2563EB 55%, transparent 55%, transparent 100%); background-size: 200% 100%; }
        .metallic-shine { background: linear-gradient(135deg, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0.1) 50%, rgba(255,255,255,0.3) 100%); }
        .chrome-gradient { background: linear-gradient(180deg, #f8fafc 0%, #e2e8f0 25%, #cbd5e1 50%, #94a3b8 75%, #64748b 100%); }
        .red-metallic { background: linear-gradient(135deg, #DC2626 0%, #EF4444 25%, #DC2626 50%, #B91C1C 75%, #991B1B 100%); }
        @keyframes pressure-pulse { 0%, 100% { transform: scale(1); opacity: 0.5; } 50% { transform: scale(1.05); opacity: 0.8; } }
        .gauge-indicator { animation: pressure-pulse 2s ease-in-out infinite; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .animate-fadeIn { animation: fadeIn 0.2s ease-out; }
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
        input[type="number"]::-webkit-inner-spin-button, input[type="number"]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
        input[type="number"] { -moz-appearance: textfield; }
    </style>
</head>
<body class="bg-slate-900">
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;
        const { Plus, X, TrendingUp, Calendar, Dumbbell, ChevronDown, Settings, BarChart3, Check, Zap, Activity, RefreshCw, Shuffle } = lucideReact;

        // Exercise substitution database (3200+ exercises from functional fitness database)
        const EXERCISE_SUBSTITUTIONS = {
  "Dumbbell Incline Chest Press": [{"name": "Double Dumbbell Reverse Grip Bench Press", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Glute Bridge Isometric Floor Press", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Glute Bridge Isometric Bench Press", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Incline Bench Chest Fly", "difficulty": "Beginner", "equipment": "Dumbbell"}, {"name": "Single Arm Dumbbell Bench Press", "difficulty": "Beginner", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Bench Press", "difficulty": "Beginner", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Incline Bench Press", "difficulty": "Beginner", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Decline Bench Press", "difficulty": "Beginner", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Chest Fly", "difficulty": "Beginner", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Decline Bench Chest Fly", "difficulty": "Beginner", "equipment": "Dumbbell"}, {"name": "Dumbbell Crush Grip Floor Press", "difficulty": "Beginner", "equipment": "Dumbbell"}, {"name": "Alternating Double Dumbbell Bench Press", "difficulty": "Beginner", "equipment": "Dumbbell"}],
  "Machine Chest Press": [{"name": "Double Cable Chest Fly", "difficulty": "Beginner", "equipment": "Cable"}, {"name": "Double Cable High to Low Chest Fly", "difficulty": "Beginner", "equipment": "Cable"}, {"name": "Double Cable Low to High Chest Fly", "difficulty": "Beginner", "equipment": "Cable"}, {"name": "Double Cable Incline Bench Chest Fly", "difficulty": "Beginner", "equipment": "Cable"}, {"name": "Double Cable Seated Chest Fly", "difficulty": "Beginner", "equipment": "Cable"}, {"name": "Double Cable Decline Bench Chest Fly", "difficulty": "Beginner", "equipment": "Cable"}, {"name": "Double Dumbbell Reverse Grip Bench Press", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Glute Bridge Isometric Floor Press", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Glute Bridge Isometric Bench Press", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Incline Bench Chest Fly", "difficulty": "Beginner", "equipment": "Dumbbell"}, {"name": "Single Arm Dumbbell Bench Press", "difficulty": "Beginner", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Bench Press", "difficulty": "Beginner", "equipment": "Dumbbell"}],
  "Low to High Cable Fly": [{"name": "Double Cable Chest Fly", "difficulty": "Beginner", "equipment": "Cable"}, {"name": "Double Cable High to Low Chest Fly", "difficulty": "Beginner", "equipment": "Cable"}, {"name": "Double Cable Low to High Chest Fly", "difficulty": "Beginner", "equipment": "Cable"}, {"name": "Double Cable Incline Bench Chest Fly", "difficulty": "Beginner", "equipment": "Cable"}, {"name": "Double Cable Seated Chest Fly", "difficulty": "Beginner", "equipment": "Cable"}, {"name": "Double Cable Decline Bench Chest Fly", "difficulty": "Beginner", "equipment": "Cable"}, {"name": "Double Dumbbell Reverse Grip Bench Press", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Glute Bridge Isometric Floor Press", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Glute Bridge Isometric Bench Press", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Incline Bench Chest Fly", "difficulty": "Beginner", "equipment": "Dumbbell"}, {"name": "Single Arm Dumbbell Bench Press", "difficulty": "Beginner", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Bench Press", "difficulty": "Beginner", "equipment": "Dumbbell"}],
  "Feet Elevated Push Up": [{"name": "Bodyweight Push Up", "difficulty": "Novice", "equipment": "Bodyweight"}, {"name": "Bodyweight Kneeling Push Up", "difficulty": "Beginner", "equipment": "Bodyweight"}, {"name": "Bodyweight Eccentric Push Up", "difficulty": "Beginner", "equipment": "Bodyweight"}, {"name": "Bodyweight Burpee", "difficulty": "Intermediate", "equipment": "Bodyweight"}, {"name": "Bodyweight Push Up to Alternating Kick Through", "difficulty": "Intermediate", "equipment": "Bodyweight"}, {"name": "Bodyweight Standing Walkout Push Up ", "difficulty": "Intermediate", "equipment": "Bodyweight"}, {"name": "Bodyweight Plate Plyometric Push Up", "difficulty": "Intermediate", "equipment": "Bodyweight"}, {"name": "Bodyweight Archer Push Up", "difficulty": "Intermediate", "equipment": "Bodyweight"}, {"name": "Bodyweight Dive Bomber Push Up", "difficulty": "Intermediate", "equipment": "Bodyweight"}, {"name": "Bodyweight Bench Feet Elevated Decline Push Up", "difficulty": "Intermediate", "equipment": "Bodyweight"}, {"name": "Bodyweight Box Feet Elevated Decline Push Up", "difficulty": "Intermediate", "equipment": "Bodyweight"}, {"name": "Bodyweight Push Up to Alternating Lateral Kick Through", "difficulty": "Intermediate", "equipment": "Bodyweight"}],
  "T-Bar Row": [{"name": "Barbell Pendlay Row", "difficulty": "Novice", "equipment": "Barbell"}, {"name": "Barbell Bent Over Row", "difficulty": "Novice", "equipment": "Barbell"}, {"name": "Barbell Prone Row", "difficulty": "Novice", "equipment": "Barbell"}, {"name": "Barbell Inverted Row", "difficulty": "Novice", "equipment": "Barbell"}, {"name": "Barbell Conventional Deadlift", "difficulty": "Novice", "equipment": "Barbell"}, {"name": "Barbell Sumo Deadlift", "difficulty": "Novice", "equipment": "Barbell"}, {"name": "Barbell Rack Pull", "difficulty": "Novice", "equipment": "Barbell"}, {"name": "Barbell Block Pull Deadlift", "difficulty": "Novice", "equipment": "Barbell"}, {"name": "Barbell Halting Deadlift", "difficulty": "Novice", "equipment": "Barbell"}, {"name": "Barbell Reverse Grip Bent Over Row", "difficulty": "Novice", "equipment": "Barbell"}, {"name": "Single Arm Barbell Suitcase Deadlift", "difficulty": "Novice", "equipment": "Barbell"}, {"name": "Barbell Snatch Grip Deadlift", "difficulty": "Intermediate", "equipment": "Barbell"}],
  "Lat Pulldown": [{"name": "Cable Straight Bar Pullover", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Single Arm Cable Half Kneeling Lat Pulldown", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Single Arm Cable Half Kneeling Low Row", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Single Arm Cable Shotgun Row", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Single Arm Cable Seated Floor Lat Pulldown", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Cable V Grip Seated Low Row", "difficulty": "Beginner", "equipment": "Cable"}, {"name": "Cable Wide Grip Lat Pulldown", "difficulty": "Beginner", "equipment": "Cable"}, {"name": "Cable Reverse Grip Lat Pulldown", "difficulty": "Beginner", "equipment": "Cable"}, {"name": "Cable V Grip Lat Pulldown", "difficulty": "Beginner", "equipment": "Cable"}, {"name": "Cable V Grip Seated Floor Lat Pulldown", "difficulty": "Beginner", "equipment": "Cable"}, {"name": "Cable Rope Pullover", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Ring Eccentric Pull Up", "difficulty": "Novice", "equipment": "Gymnastic Rings"}],
  "Single Arm Pulldown": [{"name": "Cable Straight Bar Pullover", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Single Arm Cable Half Kneeling Lat Pulldown", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Single Arm Cable Half Kneeling Low Row", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Single Arm Cable Shotgun Row", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Single Arm Cable Seated Floor Lat Pulldown", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Cable V Grip Seated Low Row", "difficulty": "Beginner", "equipment": "Cable"}, {"name": "Cable Wide Grip Lat Pulldown", "difficulty": "Beginner", "equipment": "Cable"}, {"name": "Cable Reverse Grip Lat Pulldown", "difficulty": "Beginner", "equipment": "Cable"}, {"name": "Cable V Grip Lat Pulldown", "difficulty": "Beginner", "equipment": "Cable"}, {"name": "Cable V Grip Seated Floor Lat Pulldown", "difficulty": "Beginner", "equipment": "Cable"}, {"name": "Cable Rope Pullover", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Double Dumbbell Pendlay Row", "difficulty": "Novice", "equipment": "Dumbbell"}],
  "Prone Incline DB Row": [{"name": "Double Dumbbell Pendlay Row", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Incline Bench Prone Row", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Prone Row", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Single Arm Dumbbell Suitcase Deadlift", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Single Arm Dumbbell Incline Bench Prone Row", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Alternating Single Arm Dumbbell Pendlay Row", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Alternating Double Dumbbell Prone Row", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Single Arm Dumbbell Prone Row", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Single Arm Dumbbell Pendlay Row", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Alternating Double Dumbbell Incline Bench Prone Row", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Dumbbell Crush Grip Bent Over Row", "difficulty": "Beginner", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Bent Over Row", "difficulty": "Beginner", "equipment": "Dumbbell"}],
  "Seated Hamstring Curl": [{"name": "Cable Prone Single Leg Hamstring Curl", "difficulty": "Beginner", "equipment": "Cable"}, {"name": "Cable Prone Bench Hamstring Curl", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Cable Standing Single Leg Hamstring Curl", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Cable Prone Hamstring Curl", "difficulty": "Beginner", "equipment": "Cable"}, {"name": "Cable Prone Bench Single Leg Hamstring Curl", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Single Arm Cable Single Leg Romanian Deadlift", "difficulty": "Intermediate", "equipment": "Cable"}, {"name": "Double Dumbbell Romanian Deadlift", "difficulty": "Beginner", "equipment": "Dumbbell"}, {"name": "Dumbbell Crush Grip Romanian Deadlift", "difficulty": "Beginner", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Staggered Stance Romanian Deadlift", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Single Leg Romanian Deadlift", "difficulty": "Intermediate", "equipment": "Dumbbell"}, {"name": "Single Arm Dumbbell Contralateral Single Leg Romanian Deadlift", "difficulty": "Intermediate", "equipment": "Dumbbell"}, {"name": "Dumbbell Crush Grip Single Leg Romanian Deadlift", "difficulty": "Intermediate", "equipment": "Dumbbell"}],
  "Bulgarian Split Squat": [{"name": "Double Dumbbell Thruster", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Single Arm Dumbbell Thruster", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Dumbbell Goblet Squat ", "difficulty": "Beginner", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Suitcase Step Up", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Suitcase Deficit Split Squat", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Suitcase Alternating Forward Lunge", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Suitcase Alternating Reverse Lunge", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Suitcase Split Squat", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Front Rack Alternating Step Up", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Single Arm Dumbbell Front Rack Squat", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Front Rack Squat", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Suitcase Walking Lunge", "difficulty": "Novice", "equipment": "Dumbbell"}],
  "Hack Squat": [{"name": "Barbell Box Back Squat", "difficulty": "Novice", "equipment": "Barbell"}, {"name": "Barbell High Bar Back Squat", "difficulty": "Novice", "equipment": "Barbell"}, {"name": "Barbell Back Rack Split Squat", "difficulty": "Novice", "equipment": "Barbell"}, {"name": "Barbell Front Rack Split Squat", "difficulty": "Novice", "equipment": "Barbell"}, {"name": "Barbell Thruster", "difficulty": "Intermediate", "equipment": "Barbell"}, {"name": "Barbell Front Rack Squat", "difficulty": "Intermediate", "equipment": "Barbell"}, {"name": "Barbell Low Bar Back Squat", "difficulty": "Intermediate", "equipment": "Barbell"}, {"name": "Barbell Back Rack Walking Lunge", "difficulty": "Intermediate", "equipment": "Barbell"}, {"name": "Barbell Overhead Squat", "difficulty": "Intermediate", "equipment": "Barbell"}, {"name": "Barbell Back Rack Alternating Cossack Squat", "difficulty": "Intermediate", "equipment": "Barbell"}, {"name": "Barbell Front Rack Alternating Cossack Squat", "difficulty": "Intermediate", "equipment": "Barbell"}, {"name": "Barbell Back Rack Knee Over Toe Split Squat", "difficulty": "Intermediate", "equipment": "Barbell"}],
  "Alternating Lunge Barbell": [{"name": "Barbell Box Back Squat", "difficulty": "Novice", "equipment": "Barbell"}, {"name": "Barbell High Bar Back Squat", "difficulty": "Novice", "equipment": "Barbell"}, {"name": "Barbell Back Rack Split Squat", "difficulty": "Novice", "equipment": "Barbell"}, {"name": "Barbell Front Rack Split Squat", "difficulty": "Novice", "equipment": "Barbell"}, {"name": "Barbell Thruster", "difficulty": "Intermediate", "equipment": "Barbell"}, {"name": "Barbell Front Rack Squat", "difficulty": "Intermediate", "equipment": "Barbell"}, {"name": "Barbell Low Bar Back Squat", "difficulty": "Intermediate", "equipment": "Barbell"}, {"name": "Barbell Back Rack Walking Lunge", "difficulty": "Intermediate", "equipment": "Barbell"}, {"name": "Barbell Overhead Squat", "difficulty": "Intermediate", "equipment": "Barbell"}, {"name": "Barbell Back Rack Alternating Cossack Squat", "difficulty": "Intermediate", "equipment": "Barbell"}, {"name": "Barbell Front Rack Alternating Cossack Squat", "difficulty": "Intermediate", "equipment": "Barbell"}, {"name": "Barbell Back Rack Knee Over Toe Split Squat", "difficulty": "Intermediate", "equipment": "Barbell"}],
  "Seated Shoulder Press": [{"name": "Double Dumbbell Z Press", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Single Arm Dumbbell Half Kneeling Contralateral Overhead Press", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Dumbbell Crush Grip Z Press", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Push Press", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Single Arm Dumbbell Push Press", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Alternating Double Dumbbell Push Press", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Push Jerk", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Single Arm Dumbbell Push Jerk", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Alternating Double Dumbbell Push Jerk", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Alternating Double Dumbbell Z Press", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Single Arm Dumbbell Half Kneeling Ipsilateral Overhead Press", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Half Kneeling Overhead Press", "difficulty": "Novice", "equipment": "Dumbbell"}],
  "Dumbbell Side Lateral Raise": [{"name": "Double Dumbbell Lateral Raise", "difficulty": "Beginner", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Seated Lateral Raise", "difficulty": "Beginner", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Tall Kneeling Lateral Raise", "difficulty": "Beginner", "equipment": "Dumbbell"}, {"name": "Single Arm Cable Lateral Raise", "difficulty": "Beginner", "equipment": "Cable"}, {"name": "Double Indian Club Overhead Arm Circles", "difficulty": "Novice", "equipment": "Indian Club"}, {"name": "Double Indian Club Lateral Arm Circles", "difficulty": "Novice", "equipment": "Indian Club"}, {"name": "Resistance Band Lateral Raise", "difficulty": "Beginner", "equipment": "Resistance Band"}, {"name": "Battle Rope Jumping Jack", "difficulty": "Novice", "equipment": "Battle Ropes"}, {"name": "Battle Rope Clap", "difficulty": "Beginner", "equipment": "Battle Ropes"}, {"name": "Single Arm Dumbbell Seated Shoulder External Rotation", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Seated Cuban Rotation", "difficulty": "Novice", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Cuban Rotation", "difficulty": "Novice", "equipment": "Dumbbell"}],
  "Machine Preacher Curl": [{"name": "Cable Guillotine Curl", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Cable Supine Bicep Curl", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Cable Straight Bar High Bicep Curl", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Single Arm Cable Standing High Bicep Curl", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Cable Straight Bar Seated Bicep Curl", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Single Arm Cable Bicep Curl", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Cable Straight Bar Spider Curl", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Cable Straight Bar Drag Curl", "difficulty": "Beginner", "equipment": "Cable"}, {"name": "Cable Rope Hammer Curl", "difficulty": "Beginner", "equipment": "Cable"}, {"name": "Cable Straight Bar Bicep Curl", "difficulty": "Beginner", "equipment": "Cable"}, {"name": "Single Arm Cable Incline Bench Preacher Curl", "difficulty": "Beginner", "equipment": "Cable"}, {"name": "Single Arm Cable Bayesian Curl", "difficulty": "Novice", "equipment": "Cable"}],
  "Cross Body Tricep Extension": [{"name": "Cable Rope Skull Crusher", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Single Arm Cable Tricep Kickback", "difficulty": "Beginner", "equipment": "Cable"}, {"name": "Cable Straight Bar Skull Crusher", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Cable Straight Bar Incline Bench Skull Crusher", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Cable Rope Incline Bench Skull Crusher", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Cable Straight Bar Decline Bench Skull Crusher", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Cable Rope Decline Bench Skull Crusher", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Cable Rope Floor Skull Crusher", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Cable Straight Bar Floor Skull Crusher", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Single Arm Dumbbell Knee Supported Tricep Kickback", "difficulty": "Beginner", "equipment": "Dumbbell"}, {"name": "Double Dumbbell Incline Bench Prone Tricep Kickback", "difficulty": "Beginner", "equipment": "Dumbbell"}, {"name": "EZ Bar Seated Overhead Tricep Extension", "difficulty": "Novice", "equipment": "EZ Bar"}],
  "Low Pulley Cable Curl": [{"name": "Cable Guillotine Curl", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Cable Supine Bicep Curl", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Cable Straight Bar High Bicep Curl", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Single Arm Cable Standing High Bicep Curl", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Cable Straight Bar Seated Bicep Curl", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Single Arm Cable Bicep Curl", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Cable Straight Bar Spider Curl", "difficulty": "Novice", "equipment": "Cable"}, {"name": "Cable Straight Bar Drag Curl", "difficulty": "Beginner", "equipment": "Cable"}, {"name": "Cable Rope Hammer Curl", "difficulty": "Beginner", "equipment": "Cable"}, {"name": "Cable Straight Bar Bicep Curl", "difficulty": "Beginner", "equipment": "Cable"}, {"name": "Single Arm Cable Incline Bench Preacher Curl", "difficulty": "Beginner", "equipment": "Cable"}, {"name": "Single Arm Cable Bayesian Curl", "difficulty": "Novice", "equipment": "Cable"}]
};

        const WorkoutTracker = () => {
          const [activeTab, setActiveTab] = useState('push');
          const [showAddModal, setShowAddModal] = useState(false);
          const [showSettings, setShowSettings] = useState(false);
          const [showSubstitutes, setShowSubstitutes] = useState(false);
          const [currentExercise, setCurrentExercise] = useState(null);
          const [selectedExercise, setSelectedExercise] = useState(null);
          const [weight, setWeight] = useState('');
          const [reps, setReps] = useState('');
          const [notes, setNotes] = useState('');
          const [gSheetUrl, setGSheetUrl] = useState(localStorage.getItem('gSheetUrl') || '');
          const [recentWorkouts, setRecentWorkouts] = useState([]);
          const [expandedExercise, setExpandedExercise] = useState(null);
          const [customExercises, setCustomExercises] = useState(() => {
            const saved = localStorage.getItem('customExercises');
            return saved ? JSON.parse(saved) : {};
          });

          const workoutPrograms = {
            weigh: {
              name: 'Weigh In',
              icon: 'âš–ï¸',
              exercises: [
                { name: 'Morning Weight', sets: 1, reps: '1', rest: 0, type: 'weigh' }
              ]
            },
            push: {
              name: 'Push',
              icon: 'ðŸ’ª',
              exercises: [
                { name: 'Dumbbell Incline Chest Press', sets: 2, reps: '8-10, 15', rest: 90 },
                { name: 'Machine Chest Press', sets: 3, reps: '10-12', rest: 90 },
                { name: 'Low to High Cable Fly', sets: 3, reps: '15 + DS', rest: 60 },
                { name: 'Feet Elevated Push Up', sets: 2, reps: 'Failure', rest: 60 }
              ]
            },
            pull: {
              name: 'Pull',
              icon: 'ðŸ”™',
              exercises: [
                { name: 'T-Bar Row', sets: 3, reps: '10-12', rest: 90 },
                { name: 'Lat Pulldown', sets: 3, reps: '8-10, 10-12', rest: 60 },
                { name: 'Single Arm Pulldown', sets: 3, reps: '12-15/side', rest: 60 },
                { name: 'Prone Incline DB Row', sets: 4, reps: '10-12 + DS', rest: 60 }
              ]
            },
            legs: {
              name: 'Legs',
              icon: 'ðŸ¦µ',
              exercises: [
                { name: 'Seated Hamstring Curl', sets: 4, reps: '15/12/12/8', rest: 90 },
                { name: 'Bulgarian Split Squat', sets: 3, reps: '8-12/side', rest: 60 },
                { name: 'Hack Squat', sets: 4, reps: '15/12/6/20', rest: 90 },
                { name: 'Alternating Lunge Barbell', sets: 3, reps: '10-12/side', rest: 60 }
              ]
            },
            shoulders: {
              name: 'Shoulders',
              icon: 'ðŸ’ª',
              exercises: [
                { name: 'Seated Shoulder Press', sets: 3, reps: '10/15/15', rest: 60 },
                { name: 'Dumbbell Side Lateral Raise', sets: 4, reps: '10-12', rest: 60 },
                { name: 'Machine Preacher Curl', sets: 3, reps: '10-15', rest: 60 },
                { name: 'Cross Body Tricep Extension', sets: 3, reps: '10-15', rest: 60 },
                { name: 'Low Pulley Cable Curl', sets: 3, reps: '10-12', rest: 60 }
              ]
            }
          };

          // Get display exercise (custom or default)
          const getDisplayExercise = (originalName) => {
            return customExercises[originalName] || originalName;
          };

          // Substitute exercise
          const substituteExercise = (originalName, newName) => {
            const updated = { ...customExercises, [originalName]: newName };
            setCustomExercises(updated);
            localStorage.setItem('customExercises', JSON.stringify(updated));
            setShowSubstitutes(false);
          };

          // Reset to original
          const resetExercise = (originalName) => {
            const updated = { ...customExercises };
            delete updated[originalName];
            setCustomExercises(updated);
            localStorage.setItem('customExercises', JSON.stringify(updated));
          };

          const handleQuickAdd = (exercise) => {
            setCurrentExercise(exercise);
            setShowAddModal(true);
          };

          const handleShowSubstitutes = (exercise) => {
            setSelectedExercise(exercise);
            setShowSubstitutes(true);
          };

          const saveToGoogleSheets = async (workoutData) => {
            if (!gSheetUrl) {
              alert('âš ï¸ Google Sheets not configured. Saved locally only.');
              const workout = { ...workoutData, timestamp: new Date().toISOString() };
              const recent = JSON.parse(localStorage.getItem('recentWorkouts') || '[]');
              recent.unshift(workout);
              localStorage.setItem('recentWorkouts', JSON.stringify(recent.slice(0, 20)));
              setRecentWorkouts(recent.slice(0, 20));
              return;
            }

            try {
              await fetch(gSheetUrl, {
                method: 'POST',
                mode: 'no-cors',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(workoutData)
              });

              const workout = { ...workoutData, timestamp: new Date().toISOString() };
              const recent = JSON.parse(localStorage.getItem('recentWorkouts') || '[]');
              recent.unshift(workout);
              localStorage.setItem('recentWorkouts', JSON.stringify(recent.slice(0, 20)));
              setRecentWorkouts(recent.slice(0, 20));

              alert('âœ… Workout logged successfully!');
            } catch (error) {
              const workout = { ...workoutData, timestamp: new Date().toISOString() };
              const recent = JSON.parse(localStorage.getItem('recentWorkouts') || '[]');
              recent.unshift(workout);
              localStorage.setItem('recentWorkouts', JSON.stringify(recent.slice(0, 20)));
              setRecentWorkouts(recent.slice(0, 20));
              alert('âœ… Saved locally!');
            }
          };

          const handleSubmitWorkout = (e) => {
            e.preventDefault();
            if (!currentExercise || !weight || !reps) {
              alert('Please fill in all required fields');
              return;
            }

            const displayName = getDisplayExercise(currentExercise.name);
            const workoutData = {
              exercise: displayName,
              originalExercise: currentExercise.name,
              weight: parseFloat(weight),
              reps: parseInt(reps),
              notes,
              category: activeTab
            };

            saveToGoogleSheets(workoutData);
            setWeight('');
            setReps('');
            setNotes('');
            setShowAddModal(false);
          };

          const saveSettings = () => {
            localStorage.setItem('gSheetUrl', gSheetUrl);
            setShowSettings(false);
            alert('âš™ï¸ Settings saved!');
          };

          useEffect(() => {
            const recent = JSON.parse(localStorage.getItem('recentWorkouts') || '[]');
            setRecentWorkouts(recent.slice(0, 20));
          }, []);

          return (
            <div className="min-h-screen bg-slate-950 text-white font-sans overflow-x-hidden">
              <div className="h-1 racing-stripes"></div>

              {/* Header */}
              <header className="relative bg-slate-900 border-b-2 border-racing-red">
                <div className="absolute inset-0 metallic-shine opacity-20"></div>
                <div className="relative z-10 px-6 py-5 max-w-7xl mx-auto">
                  <div className="flex items-center justify-between">
                    <div className="flex items-center gap-4">
                      <div className="relative w-14 h-14 rounded-lg overflow-hidden shadow-xl">
                        <div className="absolute inset-0 red-metallic"></div>
                        <div className="absolute inset-0 metallic-shine opacity-30"></div>
                        <div className="relative flex items-center justify-center h-full">
                          <Dumbbell className="w-7 h-7 text-white drop-shadow-lg" />
                        </div>
                      </div>
                      <div>
                        <h1 className="text-3xl font-racing tracking-wider text-white drop-shadow-lg">
                          IRONFLOW
                        </h1>
                        <p className="text-xs font-medium text-slate-400 tracking-widest mt-0.5">
                          PRECISION TRAINING SYSTEM
                        </p>
                      </div>
                    </div>
                    <button 
                      onClick={() => setShowSettings(true)}
                      className="p-3 hover:bg-slate-800 rounded-lg transition-all active:scale-95 border border-slate-700"
                    >
                      <Settings className="w-5 h-5 text-slate-400" />
                    </button>
                  </div>
                </div>
              </header>

              {/* Main */}
              <main className="relative z-10 max-w-7xl mx-auto px-6 py-6 pb-32">
                {/* Tabs */}
                <div className="flex gap-3 overflow-x-auto pb-4 scrollbar-hide mb-6">
                  {Object.entries(workoutPrograms).map(([key, program]) => (
                    <button
                      key={key}
                      onClick={() => setActiveTab(key)}
                      className={`flex-shrink-0 px-6 py-3.5 font-racing text-lg tracking-wider transition-all duration-200 relative overflow-hidden ${
                        activeTab === key
                          ? 'bg-racing-red text-white shadow-lg shadow-racing-red/50 scale-105'
                          : 'bg-slate-800 text-slate-400 hover:bg-slate-700 border border-slate-700'
                      }`}
                      style={{ clipPath: 'polygon(8% 0%, 100% 0%, 92% 100%, 0% 100%)' }}
                    >
                      {activeTab === key && (
                        <>
                          <div className="absolute inset-0 metallic-shine opacity-20"></div>
                          <div className="absolute top-0 right-0 w-1 h-full bg-racing-blue"></div>
                          <div className="absolute top-0 right-1 w-1 h-full bg-racing-cyan"></div>
                        </>
                      )}
                      <span className="relative flex items-center gap-2">
                        <span>{program.icon}</span>
                        {program.name}
                      </span>
                    </button>
                  ))}
                </div>

                {/* Exercises */}
                <div className="space-y-4">
                  {workoutPrograms[activeTab].exercises.map((exercise, idx) => {
                    const displayName = getDisplayExercise(exercise.name);
                    const isCustom = displayName !== exercise.name;
                    
                    return (
                      <div
                        key={idx}
                        className="relative bg-slate-900 border-2 border-slate-800 overflow-hidden group hover:border-racing-red transition-all duration-300"
                        style={{ clipPath: 'polygon(0 0, 100% 0, 100% calc(100% - 12px), calc(100% - 12px) 100%, 0 100%)' }}
                      >
                        <div className="absolute top-0 left-0 h-full w-1 chrome-gradient"></div>
                        
                        <button
                          onClick={() => setExpandedExercise(expandedExercise === idx ? null : idx)}
                          className="w-full px-6 py-5 flex items-center justify-between"
                        >
                          <div className="flex-1 text-left pl-3">
                            <div className="flex items-center gap-2 mb-2">
                              <h3 className="font-bold text-lg text-white group-hover:text-racing-red transition-colors">
                                {displayName}
                              </h3>
                              {isCustom && (
                                <span className="px-2 py-0.5 bg-racing-blue/20 border border-racing-blue text-racing-blue text-xs font-racing tracking-wide">
                                  ALT
                                </span>
                              )}
                            </div>
                            <div className="flex gap-5 text-sm">
                              <span className="flex items-center gap-2 text-slate-400">
                                <div className="w-2 h-2 rounded-full bg-racing-red gauge-indicator"></div>
                                <span className="font-racing tracking-wide">{exercise.sets} SETS</span>
                              </span>
                              <span className="flex items-center gap-2 text-slate-400">
                                <div className="w-2 h-2 rounded-full bg-racing-blue gauge-indicator" style={{animationDelay: '0.3s'}}></div>
                                <span className="font-racing tracking-wide">{exercise.reps} REPS</span>
                              </span>
                              {exercise.rest > 0 && (
                                <span className="flex items-center gap-2 text-slate-400">
                                  <div className="w-2 h-2 rounded-full bg-racing-cyan gauge-indicator" style={{animationDelay: '0.6s'}}></div>
                                  <span className="font-racing tracking-wide">{exercise.rest}S</span>
                                </span>
                              )}
                            </div>
                          </div>
                          <ChevronDown 
                            className={`w-6 h-6 text-slate-500 transition-transform duration-300 ${
                              expandedExercise === idx ? 'rotate-180 text-racing-red' : ''
                            }`} 
                          />
                        </button>

                        {expandedExercise === idx && (
                          <div className="px-6 pb-6 border-t-2 border-slate-800 pt-5 space-y-4">
                            <div className="grid grid-cols-2 gap-4">
                              <div className="relative bg-slate-950 p-4 border-l-4 border-racing-red">
                                <div className="absolute top-0 right-0 w-8 h-8 opacity-10">
                                  <Zap className="w-full h-full text-racing-red" />
                                </div>
                                <p className="text-xs text-slate-500 mb-1 font-racing tracking-wide">SETS</p>
                                <p className="text-3xl font-racing text-racing-red tracking-wider">{exercise.sets}</p>
                              </div>
                              <div className="relative bg-slate-950 p-4 border-l-4 border-racing-blue">
                                <div className="absolute top-0 right-0 w-8 h-8 opacity-10">
                                  <Activity className="w-full h-full text-racing-blue" />
                                </div>
                                <p className="text-xs text-slate-500 mb-1 font-racing tracking-wide">REST</p>
                                <p className="text-3xl font-racing text-racing-blue tracking-wider">{exercise.rest}S</p>
                              </div>
                            </div>
                            
                            <div className="grid grid-cols-2 gap-3">
                              <button
                                onClick={(e) => {
                                  e.stopPropagation();
                                  handleShowSubstitutes(exercise);
                                }}
                                className="relative overflow-hidden group/btn bg-slate-800 hover:bg-slate-750 border-2 border-racing-blue hover:border-racing-cyan transition-all"
                              >
                                <div className="py-3 px-4 font-racing text-sm tracking-widest text-racing-blue group-hover/btn:text-racing-cyan flex items-center justify-center gap-2">
                                  <Shuffle className="w-4 h-4" />
                                  SWITCH
                                </div>
                              </button>
                              
                              <button
                                onClick={(e) => {
                                  e.stopPropagation();
                                  handleQuickAdd(exercise);
                                }}
                                className="relative overflow-hidden group/btn"
                              >
                                <div className="absolute inset-0 red-metallic"></div>
                                <div className="absolute inset-0 metallic-shine opacity-20 group-hover/btn:opacity-40 transition-opacity"></div>
                                <div className="absolute top-0 right-0 w-2 h-full bg-racing-blue"></div>
                                <div className="absolute top-0 right-2 w-2 h-full bg-racing-cyan"></div>
                                <div className="relative py-3 font-racing text-sm tracking-widest text-white flex items-center justify-center gap-2 shadow-lg active:scale-95 transition-transform">
                                  <Plus className="w-5 h-5" />
                                  LOG SET
                                </div>
                              </button>
                            </div>

                            {isCustom && (
                              <button
                                onClick={(e) => {
                                  e.stopPropagation();
                                  resetExercise(exercise.name);
                                }}
                                className="w-full py-2 text-xs font-racing tracking-wide text-slate-500 hover:text-racing-red transition-colors flex items-center justify-center gap-2"
                              >
                                <RefreshCw className="w-3 h-3" />
                                RESET TO: {exercise.name}
                              </button>
                            )}
                          </div>
                        )}
                      </div>
                    );
                  })}
                </div>

                {/* Recent */}
                {recentWorkouts.length > 0 && (
                  <div className="mt-8">
                    <h2 className="text-xl font-racing tracking-widest mb-4 flex items-center gap-3 text-white">
                      <div className="w-8 h-1 red-metallic"></div>
                      RECENT ACTIVITY
                      <div className="flex-1 h-px bg-slate-800"></div>
                    </h2>
                    <div className="space-y-3">
                      {recentWorkouts.slice(0, 5).map((workout, idx) => (
                        <div
                          key={idx}
                          className="bg-slate-900 border-l-4 border-racing-red px-5 py-4 flex items-center justify-between hover:bg-slate-800 transition-colors"
                        >
                          <div className="flex-1">
                            <p className="font-semibold text-white mb-1">{workout.exercise}</p>
                            <p className="text-sm text-slate-400 font-racing tracking-wide">
                              {workout.weight}LBS Ã— {workout.reps} REPS
                            </p>
                          </div>
                          <div className="text-xs text-slate-600 font-racing">
                            {new Date(workout.timestamp).toLocaleDateString()}
                          </div>
                        </div>
                      ))}
                    </div>
                  </div>
                )}
              </main>

              {/* FAB */}
              <button
                onClick={() => setShowAddModal(true)}
                className="fixed bottom-24 right-6 w-16 h-16 rounded-full shadow-2xl shadow-racing-red/50 flex items-center justify-center hover:scale-110 active:scale-95 transition-transform duration-200 z-50 overflow-hidden group"
              >
                <div className="absolute inset-0 red-metallic"></div>
                <div className="absolute inset-0 metallic-shine opacity-30 group-hover:opacity-50 transition-opacity"></div>
                <Plus className="w-8 h-8 relative z-10 text-white drop-shadow-lg" />
              </button>

              {/* Bottom nav */}
              <nav className="fixed bottom-0 left-0 right-0 z-40 bg-slate-950 border-t-2 border-racing-red">
                <div className="h-1 racing-stripes"></div>
                <div className="max-w-7xl mx-auto px-6 py-4 flex justify-around">
                  <button className="flex flex-col items-center gap-2">
                    <div className="p-2 rounded-lg bg-racing-red/20 border border-racing-red">
                      <Dumbbell className="w-6 h-6 text-racing-red" />
                    </div>
                    <span className="text-xs font-racing tracking-wide text-racing-red">WORKOUTS</span>
                  </button>
                  <button className="flex flex-col items-center gap-2 group">
                    <div className="p-2 rounded-lg hover:bg-slate-800 transition-colors">
                      <BarChart3 className="w-6 h-6 text-slate-600 group-hover:text-slate-400" />
                    </div>
                    <span className="text-xs font-racing tracking-wide text-slate-600 group-hover:text-slate-400">PROGRESS</span>
                  </button>
                  <button className="flex flex-col items-center gap-2 group">
                    <div className="p-2 rounded-lg hover:bg-slate-800 transition-colors">
                      <Calendar className="w-6 h-6 text-slate-600 group-hover:text-slate-400" />
                    </div>
                    <span className="text-xs font-racing tracking-wide text-slate-600 group-hover:text-slate-400">HISTORY</span>
                  </button>
                </div>
              </nav>

              {/* Exercise Substitution Modal */}
              {showSubstitutes && selectedExercise && (
                <div className="fixed inset-0 bg-black/90 backdrop-blur-sm flex items-end sm:items-center justify-center z-50 p-4 animate-fadeIn">
                  <div className="bg-slate-900 w-full max-w-md max-h-[80vh] border-2 border-racing-blue shadow-2xl shadow-racing-blue/30 overflow-hidden relative flex flex-col">
                    <div className="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-racing-blue via-racing-cyan to-racing-blue"></div>
                    
                    <div className="p-6 border-b-2 border-slate-800 flex-shrink-0">
                      <div className="flex items-center justify-between mb-3">
                        <h2 className="text-2xl font-racing tracking-widest text-white">SWITCH EXERCISE</h2>
                        <button onClick={() => setShowSubstitutes(false)} className="p-2 hover:bg-slate-800 rounded-lg">
                          <X className="w-6 h-6 text-slate-400" />
                        </button>
                      </div>
                      <p className="text-sm text-slate-400">
                        Alternatives for: <span className="font-semibold text-white">{selectedExercise.name}</span>
                      </p>
                    </div>

                    <div className="flex-1 overflow-y-auto p-4 space-y-2">
                      {EXERCISE_SUBSTITUTIONS[selectedExercise.name]?.map((alt, idx) => (
                        <button
                          key={idx}
                          onClick={() => substituteExercise(selectedExercise.name, alt.name)}
                          className="w-full text-left bg-slate-800 hover:bg-slate-750 border border-slate-700 hover:border-racing-blue p-4 transition-all group"
                        >
                          <div className="flex items-start justify-between gap-3">
                            <div className="flex-1">
                              <p className="font-semibold text-white mb-1 group-hover:text-racing-blue transition-colors">
                                {alt.name}
                              </p>
                              <div className="flex gap-3 text-xs">
                                <span className="px-2 py-0.5 bg-slate-900 text-slate-400 font-racing">{alt.difficulty}</span>
                                <span className="px-2 py-0.5 bg-slate-900 text-slate-400 font-racing">{alt.equipment}</span>
                              </div>
                            </div>
                            <ChevronRight className="w-5 h-5 text-slate-600 group-hover:text-racing-blue transition-colors flex-shrink-0" />
                          </div>
                        </button>
                      )) || (
                        <div className="text-center py-8 text-slate-500">
                          <p className="font-racing tracking-wide">No alternatives available</p>
                        </div>
                      )}
                    </div>
                  </div>
                </div>
              )}

              {/* Add modal */}
              {showAddModal && (
                <div className="fixed inset-0 bg-black/90 backdrop-blur-sm flex items-end sm:items-center justify-center z-50 p-4 animate-fadeIn">
                  <div className="bg-slate-900 w-full max-w-md border-2 border-racing-red shadow-2xl shadow-racing-red/30 overflow-hidden relative">
                    <div className="absolute top-0 left-0 right-0 h-1 racing-stripes"></div>
                    
                    <div className="p-6 border-b-2 border-slate-800">
                      <div className="flex items-center justify-between mb-3">
                        <h2 className="text-3xl font-racing tracking-widest text-white">LOG SET</h2>
                        <button onClick={() => setShowAddModal(false)} className="p-2 hover:bg-slate-800 rounded-lg">
                          <X className="w-7 h-7 text-slate-400" />
                        </button>
                      </div>
                      {currentExercise && (
                        <p className="text-sm text-slate-400 font-medium">
                          {getDisplayExercise(currentExercise.name)}
                        </p>
                      )}
                    </div>

                    <form onSubmit={handleSubmitWorkout} className="p-6 space-y-6">
                      <div className="grid grid-cols-2 gap-5">
                        <div>
                          <label className="block text-xs font-racing tracking-widest mb-3 text-slate-400">
                            WEIGHT (LBS)
                          </label>
                          <div className="relative">
                            <input
                              type="number"
                              step="0.5"
                              value={weight}
                              onChange={(e) => setWeight(e.target.value)}
                              className="w-full bg-slate-950 border-2 border-slate-700 px-4 py-4 text-2xl font-racing tracking-wider text-white focus:border-racing-red focus:ring-4 focus:ring-racing-red/20 transition-all outline-none"
                              placeholder="135"
                              autoFocus
                            />
                            <div className="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-racing-blue via-racing-cyan to-transparent"></div>
                          </div>
                        </div>
                        <div>
                          <label className="block text-xs font-racing tracking-widest mb-3 text-slate-400">
                            REPS
                          </label>
                          <div className="relative">
                            <input
                              type="number"
                              value={reps}
                              onChange={(e) => setReps(e.target.value)}
                              className="w-full bg-slate-950 border-2 border-slate-700 px-4 py-4 text-2xl font-racing tracking-wider text-white focus:border-racing-red focus:ring-4 focus:ring-racing-red/20 transition-all outline-none"
                              placeholder="10"
                            />
                            <div className="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-racing-blue via-racing-cyan to-transparent"></div>
                          </div>
                        </div>
                      </div>

                      <div>
                        <label className="block text-xs font-racing tracking-widest mb-3 text-slate-400">
                          NOTES (OPTIONAL)
                        </label>
                        <textarea
                          value={notes}
                          onChange={(e) => setNotes(e.target.value)}
                          className="w-full bg-slate-950 border-2 border-slate-700 px-4 py-3 text-white focus:border-racing-red focus:ring-4 focus:ring-racing-red/20 transition-all outline-none resize-none font-sans"
                          placeholder="Felt strong today..."
                          rows={3}
                        />
                      </div>

                      <button
                        type="submit"
                        className="w-full relative overflow-hidden group/submit"
                      >
                        <div className="absolute inset-0 red-metallic"></div>
                        <div className="absolute inset-0 metallic-shine opacity-30 group-hover/submit:opacity-50 transition-opacity"></div>
                        <div className="absolute top-0 right-0 w-3 h-full bg-racing-blue"></div>
                        <div className="absolute top-0 right-3 w-3 h-full bg-racing-cyan"></div>
                        <div className="relative py-5 font-racing text-2xl tracking-widest text-white flex items-center justify-center gap-3 shadow-xl active:scale-95 transition-transform">
                          <Check className="w-7 h-7" />
                          SAVE WORKOUT
                        </div>
                      </button>
                    </form>
                  </div>
                </div>
              )}

              {/* Settings */}
              {showSettings && (
                <div className="fixed inset-0 bg-black/90 backdrop-blur-sm flex items-end sm:items-center justify-center z-50 p-4 animate-fadeIn">
                  <div className="bg-slate-900 w-full max-w-md border-2 border-slate-700 shadow-2xl overflow-hidden relative">
                    <div className="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-racing-blue via-racing-cyan to-racing-blue"></div>
                    
                    <div className="p-6 border-b-2 border-slate-800">
                      <div className="flex items-center justify-between">
                        <h2 className="text-3xl font-racing tracking-widest text-white">SETTINGS</h2>
                        <button onClick={() => setShowSettings(false)} className="p-2 hover:bg-slate-800 rounded-lg">
                          <X className="w-7 h-7 text-slate-400" />
                        </button>
                      </div>
                    </div>

                    <div className="p-6 space-y-6">
                      <div>
                        <label className="block text-xs font-racing tracking-widest mb-3 text-slate-400">
                          GOOGLE SHEETS URL
                        </label>
                        <input
                          type="text"
                          value={gSheetUrl}
                          onChange={(e) => setGSheetUrl(e.target.value)}
                          className="w-full bg-slate-950 border-2 border-slate-700 px-4 py-3 text-white focus:border-racing-blue focus:ring-4 focus:ring-racing-blue/20 transition-all outline-none font-sans text-sm"
                          placeholder="https://script.google.com/macros/s/..."
                        />
                        <p className="text-xs text-slate-500 mt-2 font-sans">
                          Paste your Apps Script Web App URL
                        </p>
                      </div>

                      <div className="bg-racing-red/10 border-l-4 border-racing-red p-4">
                        <h3 className="font-racing text-sm tracking-wide mb-2 text-racing-red">SETUP REQUIRED</h3>
                        <ol className="text-xs text-slate-400 space-y-1.5 list-decimal list-inside font-sans">
                          <li>Create a Google Sheet</li>
                          <li>Extensions â†’ Apps Script</li>
                          <li>Deploy as Web App</li>
                          <li>Copy & paste URL above</li>
                        </ol>
                      </div>

                      <button
                        onClick={saveSettings}
                        className="w-full relative overflow-hidden group/save"
                      >
                        <div className="absolute inset-0 bg-slate-800"></div>
                        <div className="absolute inset-0 metallic-shine opacity-10 group-hover/save:opacity-20 transition-opacity"></div>
                        <div className="absolute top-0 left-0 w-2 h-full bg-racing-blue"></div>
                        <div className="absolute top-0 left-2 w-2 h-full bg-racing-cyan"></div>
                        <div className="relative py-4 font-racing text-xl tracking-widest text-white shadow-lg active:scale-95 transition-transform">
                          SAVE SETTINGS
                        </div>
                      </button>
                    </div>
                  </div>
                </div>
              )}
            </div>
          );
        };

        ReactDOM.render(<WorkoutTracker />, document.getElementById('root'));
    </script>
</body>
</html>
